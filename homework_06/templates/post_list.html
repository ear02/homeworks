{% extends 'base.html' %}

{% block content %}
    Posts page
{% endblock %}
{% block body %}

<form method="post">
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text" id="title">Title</span>
      </div>
      <input type="text" name="title" class="form-control"  required="required">
    </div>
    <div class="input-group mb-3">
     <div class="input-group-prepend">
        <span class="input-group-text" id="body">Body</span>
      </div>
      <input type="text" name="body" class="form-control"  required="required">
        <div class="input-group-prepend">
      </div>
    </div>
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <label class="input-group-text" for="inputGroupSelect01">User</label>
      </div>
      <select class="custom-select" id="inputGroupSelect01" name="user">
        {% for user in users %}
          <option value={{user.id}}>{{ user.username }}</option>
        {% endfor %}
      </select>
    </div>
    <input class="btn btn-success my-2" type="submit" value="Add post">
</form>

<div class="h4"> Posts </div>
<table class="table table-success">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Title</th>
      <th scope="col">Body</th>
      <th scope="col">Author</th>
    </tr>
  </thead>
  <tbody>
    {% for post in posts %}
    <tr>
      <th scope="row">{{ post.id }}</th>
      <td>{{ post.title }}</td>
      <td>{{ post.body }}</td>
      <td>{{ post.user.username }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
